var Showdown = {};
if (typeof exports === "object") {
    Showdown = exports;
    Showdown.parse = function (e, t) {
        var n = new Showdown.converter;
        return n.makeHtml(e, t)
    }
}
var GitHub;
Showdown.converter = function () {
    var e;
    var t;
    var n;
    var r = 0;
    this.makeHtml = function (r, u) {
        if (typeof u !== "undefined") {
            if (typeof u === "string")u = {nameWithOwner: u};
            GitHub = u
        }
        e = new Array;
        t = new Array;
        n = new Array;
        r = r.replace(/~/g, "~T");
        r = r.replace(/\$/g, "~D");
        r = r.replace(/\r\n/g, "\n");
        r = r.replace(/\r/g, "\n");
        r = "\n\n" + r + "\n\n";
        r = _(r);
        r = r.replace(/^[ \t]+$/mg, "");
        r = o(r);
        r = s(r);
        r = a(r);
        r = O(r);
        r = r.replace(/~D/g, "$$");
        r = r.replace(/~T/g, "~");
        r = r.replace(/https?\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!]/g, function (e, t) {
            var n = r.slice(0, t), i = r.slice(t);
            if (n.match(/<[^>]+$/) && i.match(/^[^>]*>/)) {
                return e
            }
            return"<a href='" + e + "'>" + e + "</a>"
        });
        r = r.replace(/[a-z0-9_\-+=.]+@[a-z0-9\-]+(\.[a-z0-9-]+)+/ig, function (e) {
            return"<a href='mailto:" + e + "'>" + e + "</a>"
        });
        r = r.replace(/[a-f0-9]{40}/ig, function (e, t) {
            if (typeof GitHub == "undefined" || typeof GitHub.nameWithOwner == "undefined") {
                return e
            }
            var n = r.slice(0, t), i = r.slice(t);
            if (n.match(/@$/) || n.match(/<[^>]+$/) && i.match(/^[^>]*>/)) {
                return e
            }
            return"<a href='http://github.com/" + GitHub.nameWithOwner + "/commit/" + e + "'>" + e.substring(0, 7) + "</a>"
        });
        r = r.replace(/([a-z0-9_\-+=.]+)@([a-f0-9]{40})/ig, function (e, t, n, s) {
            if (typeof GitHub == "undefined" || typeof GitHub.nameWithOwner == "undefined") {
                return e
            }
            GitHub.repoName = GitHub.repoName || i();
            var o = r.slice(0, s), u = r.slice(s);
            if (o.match(/\/$/) || o.match(/<[^>]+$/) && u.match(/^[^>]*>/)) {
                return e
            }
            return"<a href='http://github.com/" + t + "/" + GitHub.repoName + "/commit/" + n + "'>" + t + "@" + n.substring(0, 7) + "</a>"
        });
        r = r.replace(/([a-z0-9_\-+=.]+\/[a-z0-9_\-+=.]+)@([a-f0-9]{40})/ig, function (e, t, n) {
            return"<a href='http://github.com/" + t + "/commit/" + n + "'>" + t + "@" + n.substring(0, 7) + "</a>"
        });
        r = r.replace(/#([0-9]+)/ig, function (e, t, n) {
            if (typeof GitHub == "undefined" || typeof GitHub.nameWithOwner == "undefined") {
                return e
            }
            var i = r.slice(0, n), s = r.slice(n);
            if (i == "" || i.match(/[a-z0-9_\-+=.]$/) || i.match(/<[^>]+$/) && s.match(/^[^>]*>/)) {
                return e
            }
            return"<a href='http://github.com/" + GitHub.nameWithOwner + "/issues/#issue/" + t + "'>" + e + "</a>"
        });
        r = r.replace(/([a-z0-9_\-+=.]+)#([0-9]+)/ig, function (e, t, n, s) {
            if (typeof GitHub == "undefined" || typeof GitHub.nameWithOwner == "undefined") {
                return e
            }
            GitHub.repoName = GitHub.repoName || i();
            var o = r.slice(0, s), u = r.slice(s);
            if (o.match(/\/$/) || o.match(/<[^>]+$/) && u.match(/^[^>]*>/)) {
                return e
            }
            return"<a href='http://github.com/" + t + "/" + GitHub.repoName + "/issues/#issue/" + n + "'>" + e + "</a>"
        });
        r = r.replace(/([a-z0-9_\-+=.]+\/[a-z0-9_\-+=.]+)#([0-9]+)/ig, function (e, t, n) {
            return"<a href='http://github.com/" + t + "/issues/#issue/" + n + "'>" + e + "</a>"
        });
        return r
    };
    var i = function () {
        return GitHub.nameWithOwner.match(/^.+\/(.+)$/)[1]
    };
    var s = function (n) {
        var n = n.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|\Z)/gm, function (n, r, i, s, o) {
            r = r.toLowerCase();
            e[r] = C(i);
            if (s) {
                return s + o
            } else if (o) {
                t[r] = o.replace(/"/g, "&quot;")
            }
            return""
        });
        return n
    };
    var o = function (e) {
        e = e.replace(/\n/g, "\n\n");
        var t = "p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del";
        var n = "p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math";
        e = e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm, u);
        e = e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm, u);
        e = e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g, u);
        e = e.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g, u);
        e = e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g, u);
        e = e.replace(/\n\n/g, "\n");
        return e
    };
    var u = function (e, t) {
        var r = t;
        r = r.replace(/\n\n/g, "\n");
        r = r.replace(/^\n/, "");
        r = r.replace(/\n+$/g, "");
        r = "\n\n~K" + (n.push(r) - 1) + "K\n\n";
        return r
    };
    var a = function (e) {
        e = v(e);
        var t = w("<hr />");
        e = e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm, t);
        e = e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm, t);
        e = e.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm, t);
        e = g(e);
        e = b(e);
        e = y(e);
        e = T(e);
        e = o(e);
        e = N(e);
        return e
    };
    var f = function (e) {
        e = E(e);
        e = l(e);
        e = k(e);
        e = p(e);
        e = c(e);
        e = L(e);
        e = C(e);
        e = x(e);
        e = e.replace(/  +\n/g, " <br />\n");
        return e
    };
    var l = function (e) {
        var t = /(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;
        e = e.replace(t, function (e) {
            var t = e.replace(/(.)<\/?code>(?=.)/g, "$1`");
            t = D(t, "\\`*_");
            return t
        });
        return e
    };
    var c = function (e) {
        e = e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g, h);
        e = e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g, h);
        e = e.replace(/(\[([^\[\]]+)\])()()()()()/g, h);
        return e
    };
    var h = function (n, r, i, s, o, u, a, f) {
        if (f == undefined)f = "";
        var l = r;
        var c = i;
        var h = s.toLowerCase();
        var p = o;
        var d = f;
        if (p == "") {
            if (h == "") {
                h = c.toLowerCase().replace(/ ?\n/g, " ")
            }
            p = "#" + h;
            if (e[h] != undefined) {
                p = e[h];
                if (t[h] != undefined) {
                    d = t[h]
                }
            } else {
                if (l.search(/\(\s*\)$/m) > -1) {
                    p = ""
                } else {
                    return l
                }
            }
        }
        p = D(p, "*_");
        var v = '<a href="' + p + '"';
        if (d != "") {
            d = d.replace(/"/g, "&quot;");
            d = D(d, "*_");
            v += ' title="' + d + '"'
        }
        v += ">" + c + "</a>";
        return v
    };
    var p = function (e) {
        e = e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g, d);
        e = e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g, d);
        return e
    };
    var d = function (n, r, i, s, o, u, a, f) {
        var l = r;
        var c = i;
        var h = s.toLowerCase();
        var p = o;
        var d = f;
        if (!d)d = "";
        if (p == "") {
            if (h == "") {
                h = c.toLowerCase().replace(/ ?\n/g, " ")
            }
            p = "#" + h;
            if (e[h] != undefined) {
                p = e[h];
                if (t[h] != undefined) {
                    d = t[h]
                }
            } else {
                return l
            }
        }
        c = c.replace(/"/g, "&quot;");
        p = D(p, "*_");
        var v = '<img src="' + p + '" alt="' + c + '"';
        d = d.replace(/"/g, "&quot;");
        d = D(d, "*_");
        v += ' title="' + d + '"';
        v += " />";
        return v
    };
    var v = function (e) {
        e = e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm, function (e, t) {
            return w("<h1>" + f(t) + "</h1>")
        });
        e = e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm, function (e, t) {
            return w("<h2>" + f(t) + "</h2>")
        });
        e = e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm, function (e, t, n) {
            var r = t.length;
            return w("<h" + r + ">" + f(n) + "</h" + r + ">")
        });
        return e
    };
    var m;
    var g = function (e) {
        e += "~0";
        var t = /^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;
        if (r) {
            e = e.replace(t, function (e, t, n) {
                var r = t;
                var i = n.search(/[*+-]/g) > -1 ? "ul" : "ol";
                r = r.replace(/\n{2,}/g, "\n\n\n");
                var s = m(r);
                s = s.replace(/\s+$/, "");
                s = "<" + i + ">" + s + "</" + i + ">\n";
                return s
            })
        } else {
            t = /(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g;
            e = e.replace(t, function (e, t, n, r) {
                var i = t;
                var s = n;
                var o = r.search(/[*+-]/g) > -1 ? "ul" : "ol";
                var s = s.replace(/\n{2,}/g, "\n\n\n");
                var u = m(s);
                u = i + "<" + o + ">\n" + u + "</" + o + ">\n";
                return u
            })
        }
        e = e.replace(/~0/, "");
        return e
    };
    m = function (e) {
        r++;
        e = e.replace(/\n{2,}$/, "\n");
        e += "~0";
        e = e.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm, function (e, t, n, r, i) {
            var s = i;
            var o = t;
            var u = n;
            if (o || s.search(/\n{2,}/) > -1) {
                s = a(M(s))
            } else {
                s = g(M(s));
                s = s.replace(/\n$/, "");
                s = f(s)
            }
            return"<li>" + s + "</li>\n"
        });
        e = e.replace(/~0/g, "");
        r--;
        return e
    };
    var y = function (e) {
        e += "~0";
        e = e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g, function (e, t, n) {
            var r = t;
            var i = n;
            r = S(M(r));
            r = _(r);
            r = r.replace(/^\n+/g, "");
            r = r.replace(/\n+$/g, "");
            r = "<pre><code>" + r + "\n</code></pre>";
            return w(r) + i
        });
        e = e.replace(/~0/, "");
        return e
    };
    var b = function (e) {
        e = e.replace(/`{3}(?:(.*$)\n)?([\s\S]*?)`{3}/gm, function (e, t, n) {
            var r = '<div class="highlight"><pre lang="' + t + '">' + n + "</pre></div>";
            return r
        });
        return e
    };
    var w = function (e) {
        e = e.replace(/(^\n+|\n+$)/g, "");
        return"\n\n~K" + (n.push(e) - 1) + "K\n\n"
    };
    var E = function (e) {
        e = e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm, function (e, t, n, r, i) {
            var s = r;
            s = s.replace(/^([ \t]*)/g, "");
            s = s.replace(/[ \t]*$/g, "");
            s = S(s);
            return t + "<code>" + s + "</code>"
        });
        return e
    };
    var S = function (e) {
        e = e.replace(/&/g, "&");
        e = e.replace(/</g, "&lt;");
        e = e.replace(/>/g, "&gt;");
        e = D(e, "*_{}[]\\", false);
        return e
    };
    var x = function (e) {
        e = e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g, "<strong>$2</strong>");
        e = e.replace(/(\w)_(\w)/g, "$1~E95E$2");
        e = e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g, "<em>$2</em>");
        return e
    };
    var T = function (e) {
        e = e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm, function (e, t) {
            var n = t;
            n = n.replace(/^[ \t]*>[ \t]?/gm, "~0");
            n = n.replace(/~0/g, "");
            n = n.replace(/^[ \t]+$/gm, "");
            n = a(n);
            n = n.replace(/(^|\n)/g, "$1  ");
            n = n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm, function (e, t) {
                var n = t;
                n = n.replace(/^  /mg, "~0");
                n = n.replace(/~0/g, "");
                return n
            });
            return w("<blockquote>\n" + n + "\n</blockquote>")
        });
        return e
    };
    var N = function (e) {
        e = e.replace(/^\n+/g, "");
        e = e.replace(/\n+$/g, "");
        var t = e.split(/\n{2,}/g);
        var r = new Array;
        var i = t.length;
        for (var s = 0; s < i; s++) {
            var o = t[s];
            if (o.search(/~K(\d+)K/g) >= 0) {
                r.push(o)
            } else if (o.search(/\S/) >= 0) {
                o = f(o);
                o = o.replace(/\n/g, "<br />");
                o = o.replace(/^([ \t]*)/g, "<p>");
                o += "</p>";
                r.push(o)
            }
        }
        i = r.length;
        for (var s = 0; s < i; s++) {
            while (r[s].search(/~K(\d+)K/) >= 0) {
                var u = n[RegExp.$1];
                u = u.replace(/\$/g, "$$$$");
                r[s] = r[s].replace(/~K\d+K/, u)
            }
        }
        return r.join("\n\n")
    };
    var C = function (e) {
        e = e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g, "&");
        e = e.replace(/<(?![a-z\/?\$!])/gi, "&lt;");
        return e
    };
    var k = function (e) {
        e = e.replace(/\\(\\)/g, P);
        e = e.replace(/\\([`*_{}\[\]()>#+-.!])/g, P);
        return e
    };
    var L = function (e) {
        e = e.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi, '<a href="$1">$1</a>');
        e = e.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi, function (e, t) {
            return A(O(t))
        });
        return e
    };
    var A = function (e) {
        function t(e) {
            var t = "0123456789ABCDEF";
            var n = e.charCodeAt(0);
            return t.charAt(n >> 4) + t.charAt(n & 15)
        }

        var n = [function (e) {
            return"&#" + e.charCodeAt(0) + ";"
        }, function (e) {
            return"&#x" + t(e) + ";"
        }, function (e) {
            return e
        }];
        e = "mailto:" + e;
        e = e.replace(/./g, function (e) {
            if (e == "@") {
                e = n[Math.floor(Math.random() * 2)](e)
            } else if (e != ":") {
                var t = Math.random();
                e = t > .9 ? n[2](e) : t > .45 ? n[1](e) : n[0](e)
            }
            return e
        });
        e = '<a href="' + e + '">' + e + "</a>";
        e = e.replace(/">.+:/g, '">');
        return e
    };
    var O = function (e) {
        e = e.replace(/~E(\d+)E/g, function (e, t) {
            var n = parseInt(t);
            return String.fromCharCode(n)
        });
        return e
    };
    var M = function (e) {
        e = e.replace(/^(\t|[ ]{1,4})/gm, "~0");
        e = e.replace(/~0/g, "");
        return e
    };
    var _ = function (e) {
        e = e.replace(/\t(?=\t)/g, "    ");
        e = e.replace(/\t/g, "~A~B");
        e = e.replace(/~B(.+?)~A/g, function (e, t, n) {
            var r = t;
            var i = 4 - r.length % 4;
            for (var s = 0; s < i; s++)r += " ";
            return r
        });
        e = e.replace(/~A/g, "    ");
        e = e.replace(/~B/g, "");
        return e
    };
    var D = function (e, t, n) {
        var r = "([" + t.replace(/([\[\]\\])/g, "\\$1") + "])";
        if (n) {
            r = "\\\\" + r
        }
        var i = new RegExp(r, "g");
        e = e.replace(i, P);
        return e
    };
    var P = function (e, t) {
        var n = t.charCodeAt(0);
        return"~E" + n + "E"
    }
}
