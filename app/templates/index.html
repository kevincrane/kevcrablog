{% extends "base.html" %}
{% set active_page = "index" %}

{% block body %}
  <h1 class="text-center">The Kevin Crane</h1>
  <p class="lead text-center">Use this document as a way to quickly start any new project.<br>
    All you get is this text and a mostly barebones HTML document.</p>

  <div class="row">
    <div class="col-md-9">
      <div class="well">
        <div id="post-preview-list">
          <h1>Posts</h1>
          <hr/>
          {% if posts and posts.items %}
            {% for post in posts.items %}
              <!-- Generate a preview of each blog post -->
              <h2 class="post-preview-title"><a href="#">{{ post.title }}</a></h2>
              <p class="post-preview-body">{{ post.body|safe|truncate(255)|markdown }}</p>
              <a class="post-preview-read" href="#">Read More!</a>
              <h6 class="post-preview-created">Created <i>{{ moment(post.created).calendar() }}</i></h6>
              <hr/>
            {% endfor %}
            <script type="text/javascript">
              $(document).ready(function () {
                $('pre code').each(function (i, e) {
                  hljs.highlightBlock(e)
                });
              });
            </script>

            <!-- Page Selector -->
            <ul class="pager">
              {% if posts.has_prev %}
                <li class="previous"><a href="{{ url_for('.index', page = posts.prev_num) }}">Newer posts</a></li>
              {% else %}
                <li class="previous disabled"><a href="#">Newer posts</a></li>
              {% endif %}
              {% if posts.has_next %}
                <li class="next"><a href="{{ url_for('.index', page = posts.next_num) }}">Older posts</a></li>
              {% else %}
                <li class="next disabled"><a href="#">Older posts</a></li>
              {% endif %}
            </ul>
          {% else %}
            <h3>No blog posts found :(</h3>
          {% endif %}
        </div>
      </div>
    </div>

    <div class="col-md-3">
      <ul class="nav nav-pills nav-stacked">
        <li class="navbar-header">Menu</li>
        <li class="active"><a href="{{ url_for(".index") }}">A Link</a></li>
        <li><a href="{{ url_for(".index") }}">Another Link</a></li>
      </ul>
    </div>
  </div>
{% endblock %}